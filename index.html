<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wedding Invitation</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --maroon: #800000;
            --gold: #d4af37;
            --cream: #fffaf0;
        }
        
        * { box-sizing: border-box; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            font-family: 'Georgia', serif; background: var(--cream);
            scroll-snap-type: y mandatory; overflow-y: scroll; scroll-behavior: smooth;
        }

        /* --- WAVY CURTAIN ANIMATION --- */
        .curtain-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1000; display: flex; pointer-events: none;
        }
        .curtain {
            width: 50%; height: 100%; background: var(--maroon);
            background-image: repeating-linear-gradient(90deg, rgba(0,0,0,0.2) 0px, transparent 15px, rgba(255,255,255,0.1) 30px);
            transition: transform 2.5s cubic-bezier(0.45, 0.05, 0.55, 0.95);
        }
        /* Wavy/Swing effect using keyframes */
        .opened .left-curtain { animation: waveLeft 2.5s forwards; }
        .opened .right-curtain { animation: waveRight 2.5s forwards; }

        @keyframes waveLeft {
            0% { transform: translateX(0) skewY(0deg); }
            20% { transform: translateX(-10%) skewY(2deg); }
            100% { transform: translateX(-105%) skewY(0deg); }
        }
        @keyframes waveRight {
            0% { transform: translateX(0) skewY(0deg); }
            20% { transform: translateX(10%) skewY(-2deg); }
            100% { transform: translateX(105%) skewY(0deg); }
        }

        /* --- PAGE STYLING --- */
        section {
            height: 100vh; width: 100%; scroll-snap-align: start;
            position: relative; display: flex; flex-direction: column;
            align-items: center; justify-content: center; padding: 20px;
            text-align: center;
        }

        /* PAGE 1: BACKGROUND IMAGE & ROMANCE */
        .page1 {
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('./couple.jpg');
            background-size: cover; background-position: center; color: white;
        }
        .romantic-text { font-style: italic; font-size: 1.1rem; margin: 20px; max-width: 80%; }

        /* PAGE 2: TRIPLE SCRATCH */
        .scratch-container { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .scratch-box { position: relative; width: 100px; height: 100px; }
        canvas { position: absolute; top: 0; left: 0; z-index: 2; border-radius: 50%; }
        .hidden-val { 
            position: absolute; top:0; left:0; width:100px; height:100px;
            background: white; border: 2px solid var(--gold); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: var(--maroon); z-index: 1;
        }

        /* PAGE 3: VENUE */
        .venue-card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .map-btn { 
            display: inline-block; margin-top: 15px; padding: 10px 20px;
            background: var(--maroon); color: white; text-decoration: none; border-radius: 5px;
        }

        /* PAGE 4: COUNTDOWN & FINAL */
        #countdown { font-size: 1.5rem; color: var(--maroon); margin: 20px 0; font-weight: bold; }
        .final-img { width: 250px; height: 250px; object-fit: cover; border-radius: 50%; border: 5px solid var(--gold); }
    </style>
</head>
<body onclick="document.body.classList.add('opened')">

    <div class="curtain-container">
        <div class="curtain left-curtain"></div>
        <div class="curtain right-curtain"></div>
    </div>

    <section class="page1">
        <h1 style="font-size: 3rem; margin: 0;">Ram & Rishika</h1>
        <p class="romantic-text">"Two souls, one heart. A journey beginning with a promise to stay together forever."</p>
        <p>Scroll down to reveal the secret...</p>
    </section>

    <section>
        <h2 style="color: var(--maroon);">Scratch the circles!</h2>
        <div class="scratch-container">
            <div class="scratch-box">
                <div class="hidden-val">24</div>
                <canvas id="c1" width="100" height="100"></canvas>
            </div>
            <div class="scratch-box">
                <div class="hidden-val">NOV</div>
                <canvas id="c2" width="100" height="100"></canvas>
            </div>
            <div class="scratch-box">
                <div class="hidden-val">2026</div>
                <canvas id="c3" width="100" height="100"></canvas>
            </div>
        </div>
    </section>

    <section>
        <div class="venue-card">
            <h2 style="color: var(--maroon);">The Venue</h2>
            <p><strong>Raj Convention hall</strong><br>Gorantla, Andhra pradesh </p>
            <a href="https://www.google.com/maps/dir//Raj+Convention+Hall,+Gorantla,+Andhra+Pradesh+515231/@12.8892884,77.6192442,2721m/data=!3m1!1e3!4m8!4m7!1m0!1m5!1m1!1s0x3bb183197ebdd251:0xea177547b76a815d!2m2!1d77.7985717!2d13.9729443?entry=ttu&g_ep=EgoyMDI2MDIwOS4wIKXMDSoASAFQAw%3D%3D" class="map-btn" target="_blank">View on Google Maps</a>
        </div>
    </section>

    <section>
        <div id="countdown">Loading Countdown...</div>
        <p><strong>Reception:</strong> 26 Feb, 2026 06:00 PM onwards <br> <strong>Muhurtam:</strong> 27 Feb 2026 3:00 AM to 4:00 AM onwards</p>
        <h1 style="color: var(--maroon); font-size: 2.5rem;">YOU ALL ARE WELCOME</h1>
        <img src="welcome.jpg" class="final-img" alt="The Couple">
    </section>

    <script>
        // --- MULTI-SCRATCH LOGIC ---
        function initScratch(id) {
            const canvas = document.getElementById(id);
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#D4AF37';
            ctx.fillRect(0, 0, 100, 100);

            function scratch(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
                const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath(); ctx.arc(x, y, 15, 0, Math.PI * 2); ctx.fill();
            }
            canvas.addEventListener('mousemove', scratch);
            canvas.addEventListener('touchmove', (e) => { e.preventDefault(); scratch(e); });
        }
        ['c1', 'c2', 'c3'].forEach(initScratch);

        // --- COUNTDOWN LOGIC ---
        const weddingDate = new Date("Feb 27, 2026 03:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = weddingDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            document.getElementById("countdown").innerHTML = `${days}d ${hours}h left until the big day!`;
        }, 1000);
    </script>
</body>
</html>